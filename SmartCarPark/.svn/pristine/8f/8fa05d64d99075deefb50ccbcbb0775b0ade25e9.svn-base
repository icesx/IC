/*
 * Sim900a.h
 *
 *  Created on: 2015年8月6日
 *      Author: i
 */

#include <Arduino.h>
#include <SoftwareSerial.h>
class Sim900a {
public:
	Sim900a() {

	}
	void prepare();
	void transform();
	~Sim900a() {

	}
private:
	void runCommand(char* ATcommand);
	void sendATcommandTimeout(char* ATcommand, char* okFlag,
			unsigned int timeout, boolean retry);
	char * readFromMySerial();
	boolean readFromSerial(int timeout, char* okFlag);
	void close_connect();
	void reconnect();
	long previous;
};
